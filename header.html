<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <title>header</title>
    <link rel="stylesheet" href="style.css">

    <style>
        /* billeder og logo */
        .logoimg,
        .land_img {
            width: 60px;
        }

        .user {
            width: 20px;
            margin-left: 5px;
        }

        /* generelt */
        li {
            cursor: pointer;
            color: #989898;
            font-family: 'Raleway', sans-serif;
            font-weight: 300;
            display: flex;
            /*            align-self: center;*/
        }

        li:hover {
            border-bottom: 1px solid black;
            /*            color: rgba(216, 234, 240, 0.98);*/
        }

        ul {
            padding: 0;

        }



        /* knapperne */
        .menuknap,
        .lukkeknap {
            color: #989898;
            font-size: 2.5rem;
            cursor: pointer;
            font-family: 'Open Sans', sans-serif;
        }

        button {
            display: flex;
            flex-direction: row;
            border: none;
            align-self: center;
            cursor: pointer;
        }

        /* drop downmenu */
        .dropdown_container,
        .dropdown_container_om215,
        .dropdown_container_boliger,
        .dropdown_container_okonomi,
        .dropdown_container_praktiskinfo {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
            width: 47vw;
            margin: 0 auto;
            grid-gap: 17px;
            cursor: pointer;
            background-color: white;
        }

        /*
        .dropdown_container_boliger {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            width: 47vw;
            margin: 0 auto;
            grid-gap: 17px;
            cursor: pointer;
            background-color: white;
        }
*/
        /*

        .dropdown_container_okonomi {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            width: 47vw;
            margin: 0 auto;
            grid-gap: 17px;
            cursor: pointer;
            background-color: white;
        }
*/

        /* flagene */
        #alle_flag_container {
            display: flex;
            align-self: center;
            justify-content: space-around;
        }

        .flag_container {
            display: flex;
        }

        .flag_container img {
            padding: 0.5rem;
        }

        #alle_flag_container img {
            padding: 0.5rem;
        }

        /* resonsiv design */

        /* mobil */
        @media only screen and (min-width: 320px) {
            li {
                font-size: 1.3rem;
                margin: 1rem;
                border-bottom: 0.1px solid #989898;
            }

            input {
                margin: 2rem;
                padding: 1.2rem;
            }

            .ombyt {
                flex-direction: column-reverse;
            }

            .mobil_nav_container {
                padding: 1rem;
            }

            #menu_punkter_content {
                flex-direction: row-reverse;
                align-items: center;
                justify-content: flex-end;

            }

            .dropdown_container,
            .dropdown_container_om215,
            .dropdown_container_praktiskinfo {
                margin-left: 7vw;
            }

            .dropdown_container_boliger {
                margin-left: 7vw;
            }

            .dropdown_container_okonomi {
                margin-left: 7vw;
            }

            #menu_punkter_content img {
                height: 13vw;
            }
        }

        @media only screen and (min-width: 1020px) {
            #menu_linje {
                display: block;
                opacity: 1;
            }

            .menuknap {
                display: none;


            }

            .logo_mobil {
                display: none;
            }

            #menu_punkter {
                /*menupunkter container bare med id */
                flex-direction: row;
            }

            li {
                align-self: center;
                font-size: 1rem;
                border: none;
            }

            input {
                margin: 1rem;
                padding: 1rem;
            }

            .ombyt {
                flex-direction: row;
            }

            .flag_container {
                display: none;
            }

            .mobil_nav_container {
                padding: 0rem;
            }

            /*dropdown */
            .dropdown_container,
            .dropdown_container_boliger,
            .dropdown_container_okonomi,
            .dropdown_container_om215,
            .dropdown_container_praktiskinfo {
                position: absolute;
                left: 0;
                top: 10vw;
                width: auto;
                margin: 0 auto;
                right: 0;
                margin-left: 3rem;
            }

            /*
            .dropdown_container_boliger {
                position: absolute;
                left: 0;
                top: 10vw;
                width: auto;
                margin: 0 auto;
                right: 0;
            }
*/

            /*
            .dropdown_container_okonomi {
                position: absolute;
                left: 0;
                top: 10vw;
                width: auto;
                margin: 0 auto;
                right: 0;
            }
*/

            /*
            .dropdown_container_om215 {
                position: absolute;
                left: 0;
                top: 10vw;
                width: auto;
                margin: 0 auto;
                right: 0;
            }
*/

            #menu_punkter_content img {
                height: 5vw;
            }



        }

        .hidden {
            display: none;
        }

        /* webdesign */
        #menu_linje {}

        .menupunkter_container {
            display: flex;
            justify-content: space-around;
            align-self: center;
            list-style-type: none;

            flex-direction: column;
        }

        /* mobil design */

        .mobil_nav_container {
            display: flex;
            justify-content: space-between;
            align-self: center;

        }

        .ombyt {
            display: flex;
        }

        /* grid med billederne og teskten */

        #menu_punkter_content {
            display: flex;


        }

        #menu_punkter_content:hover {
            opacity: 0.6;
        }

        #menu_punkter_content img {
            width: 40%;
            object-fit: cover;
        }


        #title {
            color: #989898;
            font-family: 'Raleway', sans-serif;
            font-weight: 300;
            margin-left: 15px;

        }


        .atag {
            display: flex;
        }
    </style>
</head>

<body>

    <template id="menutemplate">
        <article id="menu_punkter_content">
            <h3 id="title"></h3>
            <img src="">
        </article>
    </template>



    <nav>

        <div class="mobil_nav_container">
            <a class="logo_mobil logoimg" href="index.html"><img class="logoimg" src="img/logo.svg"></a>
            <div class="menuknap">☰</div>
            <div class="lukkeknap hidden">X</div>
        </div>

        <div id="menu_linje" class="hidden">
            <ul id="menu_punkter" class="menupunkter_container">
                <a class="atag" href="index.html"><img class="logoimg logoweb" src="img/logo.svg"></a>
                <li id="destinationer">Destinationer</li>
                <div class="dropdown_container hidden">

                </div>
                <li id="boliger">Boliger</li>
                <div class="dropdown_container_boliger hidden">

                </div>
                <li id="om_215">Om 21-5</li>
                <div class="dropdown_container_om215 hidden">

                </div>
                <li id="økonomi_jura_skat">Økonomi, Jura og Skat</li>
                <div class="dropdown_container_okonomi hidden">

                </div>
                <li id="kob_af_andel">Køb af andel i 21-5</li>
                <li id="praktisk_info">Praktisk info</li>
                <div class="dropdown_container_praktiskinfo hidden">

                </div>
                <div class="ombyt">
                    <input type="text" placeholder="Søg...">
                    <button>Log in <img class="user" src="grafik/user.svg"> </button>
                </div>
                <div id="alle_flag_container">
                    <img class="land_img" src="img/danmark.svg">
                    <div class="flag_container">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                    </div>
                </div>
            </ul>
        </div>


    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", start);

        //destinationer url
        const endpoint = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/destinationer";

        //Boliger url
        const endpoint_boliger_byt = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/boliger/644";
        const endpoint_boliger_indretning = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/boliger/641";
        const endpoint_boliger_udvaelg = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/boliger/640";

        //Økonomi url
        const endpoint_okonomi = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/okonomi";

        //om215 url
        // hvorfor vælge 21-5
        const endpoint_om215_hvorfor = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/om215/688";
        const endpoint_om215_hvad = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/om215/684";
        const endpoint_om215_hvem = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/om215/680";

        //praktisk info
        const endpoint_praktiskinfo_uge = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/praktisk_info/649"
        const endpoint_praktiskinfo_job = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/praktisk_info/648"
        const endpoint_praktiskinfo_faq = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/praktisk_info/34"

        // der hvor json bliver puttet ind
        let theJSON = [];
        //om215
        let theJSON_om215_hvorfor = [];
        let theJSON_om215_hvad = [];
        let theJSON_om215_hvem = [];
        //Boliger
        let theJSON_boliger_byt = [];
        let theJSON_boliger_indretning = [];
        let theJSON_boliger_udvaelg = [];

        //økonomi
        let theJSON_okonomi = [];

        //praktisk info
        let theJSON_uge = [];
        let theJSON_job = [];
        let theJSON_faq = [];


        // den template vi kloner ind i vores dropwdownmenu
        let menuboksetemplate = document.querySelector("#menutemplate");

        //container for destinationer dropdown
        const container = document.querySelector(".dropdown_container");

        //Container boliger:
        const container_boliger = document.querySelector(".dropdown_container_boliger");

        //Container økonomi
        const container_okonomi = document.querySelector(".dropdown_container_okonomi");

        //container om 21-5
        const container_om215 = document.querySelector(".dropdown_container_om215");

        //container praktisk info
        const container_praktiskinfo = document.querySelector(".dropdown_container_praktiskinfo");

        function start() {


            // gør så man kan klikke på menupunkterne

            //destinationer
            document.querySelector("#destinationer").addEventListener("click", clickDestinationerFrem);
            //boliger
            document.querySelector("#boliger").addEventListener("click", clickBoligerFrem);
            //økonomi jura og skat
            document.querySelector("#økonomi_jura_skat").addEventListener("click", clickOkonomiFrem);
            //om 21-5
            document.querySelector("#om_215").addEventListener("click", clickOm215Frem);

            //praktisk info
            document.querySelector("#praktisk_info").addEventListener("click", clickPraktiskInfoFrem);

            loadData();

            document.querySelector(".menuknap").addEventListener("click", clickMenu);




        }

        // henter json
        async function loadData() {

            const resspons = await fetch(endpoint);

            //boliger
            const resspons_boliger_byt = await fetch(endpoint_boliger_byt);
            const resspons_boliger_indretning = await fetch(endpoint_boliger_indretning);
            const resspons_boliger_udvaelg = await fetch(endpoint_boliger_udvaelg);

            //økonomi
            const resspons_okonomi = await fetch(endpoint_okonomi);

            //om215
            const resspons_om215_hvorfor = await fetch(endpoint_om215_hvorfor);
            const resspons_om215_hvad = await fetch(endpoint_om215_hvad);
            const resspons_om215_hvem = await fetch(endpoint_om215_hvem);

            //praktisk info
            const resspons_praktiskinfo_uge = await fetch(endpoint_praktiskinfo_uge);
            const resspons_praktiskinfo_job = await fetch(endpoint_praktiskinfo_job);
            const resspons_praktiskinfo_faq = await fetch(endpoint_praktiskinfo_faq);


            theJSON = await resspons.json();

            //boliger
            theJSON_boliger_byt = await resspons_boliger_byt.json();
            theJSON_boliger_indretning = await resspons_boliger_indretning.json();
            theJSON_boliger_udvaelg = await resspons_boliger_udvaelg.json();

            //
            theJSON_okonomi = await resspons_okonomi.json();

            //om215
            theJSON_om215_hvorfor = await resspons_om215_hvorfor.json();
            theJSON_om215_hvad = await resspons_om215_hvad.json();
            theJSON_om215_hvem = await resspons_om215_hvem.json();

            //praktisk info
            theJSON_uge = await resspons_praktiskinfo_uge.json();
            theJSON_job = await resspons_praktiskinfo_job.json();
            theJSON_faq = await resspons_praktiskinfo_faq.json();

            //kalder funktionerne


        }

        //hvad der sker når man kilkker på destinationer
        function clickDestinationerFrem() {
            container.classList.remove("hidden")
            visDestinationer();
            document.querySelector("#destinationer").removeEventListener("click", clickDestinationerFrem);

            //når man klikker på destinationer igen
            document.querySelector("#destinationer").addEventListener("click", () => {
                container.classList.add("hidden")
                document.querySelector("#destinationer").addEventListener("click", clickDestinationerFrem);

            })


        }

        // viser alt data
        function visDestinationer() {
            container.innerHTML = "";
            container_boliger.innerHTML = "";
            container_okonomi.innerHTML = "";
            container_om215.innerHTML = "";
            container_praktiskinfo.innerHTML = "";

            console.log(theJSON);


            //løb listen igennem og indsæt data i en template

            theJSON.forEach(destination => {

                console.log(destination);

                const klon = menuboksetemplate.cloneNode(true).content;

                klon.querySelector("h3").textContent = destination.title.rendered;

                klon.querySelector("img").src = destination.lillebillede.guid;

                klon.querySelector("article").addEventListener("click", () => {

                    location.href = `basis_galleri.html?id=${destination.id}`;
                })

                container.appendChild(klon);


            })
        }

        //Når man klikker på boliger:
        function clickBoligerFrem() {
            container_boliger.classList.remove("hidden")
            visBoliger();
            document.querySelector("#boliger").removeEventListener("click", clickBoligerFrem);

            //når man klikker på destinationer igen
            document.querySelector("#boliger").addEventListener("click", () => {
                container_boliger.classList.add("hidden")
                document.querySelector("#boliger").addEventListener("click", clickBoligerFrem);

            })


        }

        // viser alt data
        function visBoliger() {

            container.innerHTML = "";
            container_boliger.innerHTML = "";
            container_okonomi.innerHTML = "";
            container_om215.innerHTML = "";
            container_praktiskinfo.innerHTML = "";
            console.log(theJSON_boliger_byt);
            console.log(theJSON_boliger_indretning);
            console.log(theJSON_boliger_udvaelg);

            //kloninger
            const klon = menuboksetemplate.cloneNode(true).content;

            klon.querySelector("h3").textContent = theJSON_boliger_byt.title.rendered;

            klon.querySelector("img").src = theJSON_boliger_byt.lillebillede.guid;

            klon.querySelector("article").addEventListener("click", () => {

                location.href = `boliger_basis.html?id=${theJSON_boliger_byt.id}`;
            })
            container_boliger.appendChild(klon);

            //klon2
            const klon2 = menuboksetemplate.cloneNode(true).content;

            klon2.querySelector("h3").textContent = theJSON_boliger_udvaelg.title.rendered;

            klon2.querySelector("img").src = theJSON_boliger_udvaelg.lillebillede.guid;

            klon2.querySelector("article").addEventListener("click", () => {

                location.href = `boliger_basis.html?id=${theJSON_boliger_udvaelg.id}`;
            })
            container_boliger.appendChild(klon2);

            //klon3
            const klon3 = menuboksetemplate.cloneNode(true).content;

            klon3.querySelector("h3").textContent = theJSON_boliger_indretning.title.rendered;

            klon3.querySelector("img").src = theJSON_boliger_indretning.lillebillede.guid;

            klon3.querySelector("article").addEventListener("click", () => {

                location.href = `boliger_galleri.html?id=${theJSON_boliger_indretning.id}`;
            })
            container_boliger.appendChild(klon3);
        }



        // Når man klikker på økonomii
        function clickOkonomiFrem() {
            container_okonomi.classList.remove("hidden")
            visOkonomi();
            document.querySelector("#økonomi_jura_skat").removeEventListener("click", clickOkonomiFrem);

            //når man klikker på destinationer igen
            document.querySelector("#økonomi_jura_skat").addEventListener("click", () => {
                container_okonomi.classList.add("hidden")
                document.querySelector("#økonomi_jura_skat").addEventListener("click", clickOkonomiFrem);

            })


        }

        // viser alt data
        function visOkonomi() {
            container.innerHTML = "";
            container_boliger.innerHTML = "";
            container_okonomi.innerHTML = "";
            container_om215.innerHTML = "";
            container_praktiskinfo.innerHTML = "";
            console.log(theJSON_okonomi);


            //løb listen igennem og indsæt data i en template

            theJSON_okonomi.forEach(okonom => {

                console.log(okonom);

                const klon = menuboksetemplate.cloneNode(true).content;

                klon.querySelector("h3").textContent = okonom.title.rendered;

                klon.querySelector("img").src = okonom.lillebillede.guid;

                klon.querySelector("article").addEventListener("click", () => {

                    location.href = `okonomi_basis.html?id=${okonom.id}`;
                })

                container_okonomi.appendChild(klon);


            })
        }

        //når man klikker på om 21-5
        function clickOm215Frem() {
            container_om215.classList.remove("hidden")
            visOm215();
            document.querySelector("#om_215").removeEventListener("click", clickDestinationerFrem);

            //når man klikker på destinationer igen
            document.querySelector("#om_215").addEventListener("click", () => {
                container.classList.add("hidden")
                document.querySelector("#om_215").addEventListener("click", clickDestinationerFrem);

            })

        }

        //vis data for 21-5
        function visOm215() {
            container.innerHTML = "";
            container_boliger.innerHTML = "";
            container_okonomi.innerHTML = "";
            container_om215.innerHTML = "";
            container_praktiskinfo.innerHTML = "";
            console.log(theJSON_om215_hvorfor);
            console.log(theJSON_om215_hvorfor.id);
            console.log(theJSON_om215_hvad);
            console.log(theJSON_om215_hvad.id);
            console.log(theJSON_om215_hvem);
            console.log(theJSON_om215_hvem.id);

            //kloner hvorfor ind
            const klon = menuboksetemplate.cloneNode(true).content;
            klon.querySelector("h3").textContent = theJSON_om215_hvorfor.title.rendered;
            klon.querySelector("img").src = theJSON_om215_hvorfor.lillebillede.guid;
            klon.querySelector("article").addEventListener("click", () => {

                console.log("this.theJSON_om215_hvorfor.id")

                location.href = `hvorfor_voelge_215.html?id=${theJSON_om215_hvorfor.id}`;
            })

            container_om215.appendChild(klon);

            //kloner hvad ind
            const klon2 = menuboksetemplate.cloneNode(true).content;
            klon2.querySelector("h3").textContent = theJSON_om215_hvad.title.rendered;
            klon2.querySelector("img").src = theJSON_om215_hvad.lillebillede.guid;
            klon2.querySelector("article").addEventListener("click", () => {
                console.log("this.theJSON_om215_hvad.id")
                location.href = `hvad_er_215.html?id=${theJSON_om215_hvad.id}`;
            })

            container_om215.appendChild(klon2);

            //kloner hvem ind
            const klon3 = menuboksetemplate.cloneNode(true).content;
            klon3.querySelector("h3").textContent = theJSON_om215_hvem.title.rendered;
            klon3.querySelector("img").src = theJSON_om215_hvem.lillebillede.guid;
            klon3.querySelector("article").addEventListener("click", () => {
                console.log("this.theJSON_om215_hvem.id")
                location.href = `hvem_er_215.html?id=${theJSON_om215_hvem.id}`;
            })

            container_om215.appendChild(klon3);

        }

        function clickPraktiskInfoFrem() {
            container_praktiskinfo.classList.remove("hidden")
            visPraktiskInfo();
            document.querySelector("#praktisk_info").removeEventListener("click", clickPraktiskInfoFrem);

            //når man klikker på destinationer igen
            document.querySelector("#praktisk_info").addEventListener("click", () => {
                container.classList.add("hidden")
                document.querySelector("#praktisk_info").addEventListener("click", clickPraktiskInfoFrem);

            })

        }

        //vis data for 21-5
        function visPraktiskInfo() {
            container.innerHTML = "";
            container_boliger.innerHTML = "";
            container_okonomi.innerHTML = "";
            container_om215.innerHTML = "";
            container_praktiskinfo.innerHTML = "";

            console.log(theJSON_uge);
            console.log(theJSON_job);
            console.log(theJSON_faq);

            //kloner hvorfor uge
            const klon = menuboksetemplate.cloneNode(true).content;
            klon.querySelector("h3").textContent = theJSON_uge.title.rendered;
            klon.querySelector("img").src = theJSON_uge.lillebillede.guid;
            klon.querySelector("article").addEventListener("click", () => {

                console.log("this.theJSON_uge.id")

                location.href = `ugefordeling.html?id=${theJSON_uge.id}`;
            })

            container_praktiskinfo.appendChild(klon);

            //kloner job ind
            const klon2 = menuboksetemplate.cloneNode(true).content;
            klon2.querySelector("h3").textContent = theJSON_job.title.rendered;
            klon2.querySelector("img").src = theJSON_job.lillebillede.guid;
            klon2.querySelector("article").addEventListener("click", () => {
                console.log("this.theJSON_job.id")
                location.href = `job.html?id=${theJSON_job.id}`;
            })

            container_praktiskinfo.appendChild(klon2);

            //kloner faq
            const klon3 = menuboksetemplate.cloneNode(true).content;
            klon3.querySelector("h3").textContent = theJSON_faq.title.rendered;
            klon3.querySelector("img").src = theJSON_faq.lillebillede.guid;
            klon3.querySelector("article").addEventListener("click", () => {
                console.log("this.theJSON_faq.id")
                location.href = `FAQ.html?id=${theJSON_om215_hvem.id}`;
            })

            container_praktiskinfo.appendChild(klon3);



            //løb listen igennem og indsæt data i en template

            //            theJSON_om215.forEach(side => {
            //
            //                console.log(side);
            //
            //                const klon = menuboksetemplate.cloneNode(true).content;
            //                klon.querySelector("h3").textContent = side.title.rendered;
            //                klon.querySelector("img").src = side.lillebillede.guid;
            //                klon.querySelector("article").addEventListener("click", () => {
            //
            //                    location.href = `basis_galleri.html?id=${destination.id}`;
            //                })
            //
            //                container.appendChild(klon);
            //
            //
            //            })
        }







        function clickMenu() {
            console.log("jeg har klikket på menukanp")

            //gør så man kan se menuen, fjerner menuknap, tilføjer lukkeknap
            document.querySelector("#menu_linje").classList.remove("hidden");
            document.querySelector(".menuknap").classList.add("hidden");
            document.querySelector(".lukkeknap").classList.remove("hidden")
            document.querySelector(".logoweb").classList.add("hidden");

            //klik på lukkeknap, en anonymfunktion lukker den igen
            document.querySelector(".lukkeknap").addEventListener("click", () => {
                document.querySelector("#menu_linje").classList.add("hidden");
                document.querySelector(".menuknap").classList.remove("hidden");
                document.querySelector(".lukkeknap").classList.add("hidden")
                document.querySelector(".logoweb").classList.remove("hidden");
            })


        }
    </script>

</body></html>

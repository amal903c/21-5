<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <title>header</title>

    <style>
        /* billeder og logo */
        .logoimg,
        .land_img {
            width: 60px;
        }

        .user {
            width: 20px;
        }

        /* generelt */
        li {
            cursor: pointer;
            color: #989898;

            display: flex;
            align-self: center;
        }

        li:hover {
            border-bottom: 1px solid #E0BD02;
            color: #E0BD02;
        }

        /* knapperne */
        .menuknap,
        .lukkeknap {
            color: #E0BD02;
            font-size: 2.5rem;
        }

        button {
            display: flex;
            flex-direction: row;
        }

        /* drop downmenu */
        .dropdown_container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            width: 47vw;
            margin: 0 auto;
            grid-gap: 17px;
            cursor: pointer;
        }


        /* resonsiv design */

        @media only screen and (min-width: 1020px) {
            #menu_linje {
                display: block;
                opacity: 1;
            }

            .menuknap {
                display: none;


            }

            .logo_mobil {
                display: none;
            }

        }

        .hidden {
            display: none;
        }

        /* webdesign */
        #menu_linje {}

        .menupunkter_container {
            display: flex;
            justify-content: space-around;
            align-self: center;
            list-style-type: none;
        }

        /* mobil design */

        .mobil_nav_container {
            display: flex;
            justify-content: space-between;
            align-self: center;
        }

    </style>
</head>

<body>

    <template id="menutemplate">
        <article>
            <h3 id="title"></h3>
            <img src="">
        </article>
    </template>



    <nav>

        <div class="mobil_nav_container">
            <a class="logo_mobil logoimg" href="index.html"><img class="logoimg" src="img/logo.svg"></a>
            <div class="menuknap">☰</div>
            <div class="lukkeknap hidden">X</div>
        </div>

        <div id="menu_linje" class="hidden">
            <ul class="menupunkter_container">
                <a href="index.html"><img class="logoimg" src="img/logo.svg"></a>
                <li id="destinationer">Destinationer</li>
                <li id="boliger">Boliger</li>
                <li id="om_215">Om 21-5</li>
                <li id="økonomi_jura_skat">Økonomi, Jura og Skat</li>
                <li id="kob_af_andel">Køb af andel i 21-5</li>
                <li id="praktisk_info">Praktisk info</li>
                <input type="text" placeholder="Søg...">
                <button>Log in <img class="user" src="grafik/user.svg"> </button>
                <img class="land_img" src="img/danmark.svg">
            </ul>
        </div>
        <div class="dropdown_container hidden">

        </div>

    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", start);

        const endpoint = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/basisside_galleri";

        let theJSON = [];
        let destinatinerEndpoints = ["http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/basisside_galleri/241", "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/basisside_galleri/240", "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/basisside_galleri/239", "238", "237", "236", "235", "234", ]

        let menuboksetemplate = document.querySelector("#menutemplate");
        const container = document.querySelector(".dropdown_container");

        function start() {
            loadData();

            document.querySelector("#destinationer").addEventListener("click", clickDestinationerFrem);


        }

        async function loadData() {

            const resspons = await fetch(endpoint);
            theJSON = await resspons.json();


        }

        function clickDestinationerFrem() {
            container.classList.remove("hidden")
            visDestinationer();
            document.querySelector("#destinationer").removeEventListener("click", clickDestinationerFrem);

        }


        function visDestinationer() {
            //    container.innerHTML = "";
            console.log(theJSON);


            //løb listen igennem og indsæt data i en template

            theJSON.forEach(destination => {

                console.log(destination);

                const klon = menuboksetemplate.cloneNode(true).content;

                klon.querySelector("h3").textContent = destination.title.rendered;

                //                klon.querySelector("img").src = destination.billede.guid;

                klon.querySelector("article").addEventListener("click", () => {

                    location.href = `basisside_galleri.html?id=${destination.id}`;
                })

                container.appendChild(klon);


            })
        }

    </script>

</body>

</html>

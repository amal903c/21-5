<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velkommen til 21-5</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&family=Raleway:wght@300&display=swap" rel="stylesheet">
</head>

<body>




    <!--   TEMPLATE TIL BILLEDKARRUSEL-->
    <template>
        <section>
            <img class="karrusel_imgs" src="" alt="">
        </section>
    </template>



    <main id="forside">

        <!--       SPLASH FORSIDE-->
        <div class="splash">
            <h1 class="splash_tekst_1">TÆNK<br> HVIS DU EJEDE</h1>
            <h1 class="splash_tekst_2">5 UNIKKE<br> FERIE-<br>BOLIGER</h1>
            <div class="splashbillede"></div>

        </div>


        <!--       KARRUSEL SEKTIOIN START-->
        <div class="karrusel">
            <div class="karrusel_tekst">
                <h1 class="karrusel_h1"></h1>
                <p class="karrusel_brod"></p>
            </div>
            <div class="karrusel_inner">
                <div class="tilbage">
                    <p>⭅</p>
                </div>
                <div class="the_container"></div>
                <div class="foran">
                    <p>⭆</p>
                </div>
            </div>

        </div>

        <!--KARRUSEL SEKTIOIN SLUT-->

        <!--        VIDEO SEKTION START-->
        <div class="video_container">

            <iframe class="iframe_video" src="" frameborder="0" allow="autoplay; fullscreen" allowfullscreen alt="youtube google video toscana"></iframe>
            <div class="video_h1">
                <h1 class="videoh1"></h1>
            </div>
        </div>

        <div class="video_brod">
            <p class="videobrod"></p>
        </div>

        <!--    VIDEO SEKTION SLUT-->

        <!--        SEKTION2-->

        <div class="sektion_2">
            <div class="sektion_2_tekst">
                <h1 class="sektion_2_h1"></h1>
                <p class="sektion_2_brod"></p>
            </div>
            <div class="sektion_2_billede">
                <img class="sektion_2_billedet" src="" alt=""> <a href="kommer">
                    <h2>LÆS MERE OM VORES UNIKKE KONCEPT</h2>
                </a>
            </div>
        </div>

        <!--        SEKTION2 SLUT-->

        <!--        MØD BENTE OG JESPER START-->


        <div class="bente_containere">
            <div class="hvid"></div>
            <div class="bente_billede"> <img class="bente_billedess" src="" alt="bente og jesper">
                <div class="loes_mere">
                    <a href="kommer">
                        <h2>HVAD SIGER VORES ANDRE FAMILIER?</h2>
                    </a>
                </div>
            </div>
            <div class="bente_tekst">
                <h1 class="bente_h1"></h1>
                <p class="bente_brod"></p>
            </div>
        </div>

        <!--MØD BENTE OG JESPER SLUT-->

        <!--/*footer start*/-->
        <section class="footer_wrap">
            <div class="nyhedsbrev_container">
                <ul>
                    <li>
                        <h3>Nyhedsbrev</h3>
                    </li>
                    <li>
                        <div id="nyhedsbrev_input"><input type="tekst" placeholder="e-mail"></div>
                    </li>
                    <li><button class="nyhedsbrev_knap">Tilmeld</button></li>
                </ul>
            </div>
            <div class="kontakt_container">
                <ul>
                    <li>
                        <h3>Kontakt os</h3>
                    </li>
                    <li>21-5 A/S</li>
                    <li>Rungstedvej 41</li>
                    <li>2970 Hørsholm</li>
                    <br>
                    <li>Telefon: 70 26 11 55</li>
                    <li>E-mail: info@21-5.dk</li>
                    <li>Åbent mellem 9-17</li>
                </ul>
            </div>
            <div class="andet_container">
                <ul>
                    <li>
                        <h3>Andet</h3>
                    </li>
                    <li><a href="">Nyheder</a></li>
                    <li><a href="">Presse</a></li>
                    <li><a href="">Cookie- og privatlivspolitik</a></li>
                    <li><a href="">Ofte stillede spørgsmål</a></li>
                </ul>
            </div>
            <div class="some">
                <ul>
                    <li>
                        <h3>Følg med</h3>
                    </li>
                    <li><a href="">Facebook</a></li>
                    <li><a href="">Instagram</a></li>
                </ul>
            </div>
        </section>


    </main>


    <script>
        //use strict gør, at den ikke finder sig i at fx en variabel ikek er defineret ordentliigt. Den finder sig ikke i fejl.
        "use strict";
        // I URL INDSÆTTER DU LINK TIL DET ID I JSON, SOM HAR ARRAYET MED BILLEDER
        const url = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/forside/166";
        let theJSON;
        //Variabel for, at finde ud af hvor mange billeder der er.
        let numberOfPicsInKarrrusel;
        let karruselCurrentNumber = 0;

        document.addEventListener("DOMContentLoaded", start);


        function start() {
            hentJSON();
            document.querySelector(".foran").addEventListener("click", foran);
            document.querySelector(".tilbage").addEventListener("click", tilbage);
        }



        async function hentJSON() {
            const response = await fetch(url);
            theJSON = await response.json();
            buildKarrusel();
        }


        function buildKarrusel() {
            //Antallet af bilelder finder vi, fordi det svarer til det antal elementer i arrayet som indeholder billederne.
            numberOfPicsInKarrrusel = theJSON.billedgalleri.length;

            //For each ud fra vorers array af husbilelderne:
            theJSON.billedgalleri.forEach((billede, index) => {
                //vi skal have for både det store billede - theclone, og så de små legend billeder - secondclone:
                const theClone = document.querySelector("template").cloneNode(true).content;
                //billederne sættes ind
                theClone.querySelector("img").src = billede.guid;
                //vi skal appende vores kloner til dokumentet:
                document.querySelector(".the_container").appendChild(theClone);
            })
            document.querySelector(".the_container").addEventListener("scroll", scrollFunction);

            //SPLASH
            //document.querySelector(".splashbillede").src = theJSON.splash.guid;

            //TEKST SOM FLEXER MED KARRUSEL
            document.querySelector(".karrusel_h1").textContent = theJSON.overskrift1;
            document.querySelector(".karrusel_brod").textContent = theJSON.tekst1;

            //Sektion 2
            document.querySelector(".sektion_2_h1").textContent = theJSON.overskrift2;
            document.querySelector(".sektion_2_brod").textContent = theJSON.tekst2;
            document.querySelector(".sektion_2_billedet").src = theJSON.billede2.guid;

            //Video  sektion
            document.querySelector(".iframe_video").src = theJSON.video;
            document.querySelector(".videoh1").textContent = theJSON.video_overskrift;
            document.querySelector(".videobrod").textContent = theJSON.video_brdtekst;

            //Bente og Jesper
            document.querySelector(".bente_billedess").src = theJSON.billede7.guid;
            document.querySelector(".bente_h1").textContent = theJSON.overskrift3;
            document.querySelector(".bente_brod").textContent = theJSON.tekst3;
        }

        function scrollFunction() {
            numberOfPicsInKarrrusel = Math.round(document.querySelector(".the_container").scrollLeft / document.querySelector(".karrusel_imgs").width);
            console.log(numberOfPicsInKarrrusel);
        }

        function foran() {
            numberOfPicsInKarrrusel++;
            navigate();
        }

        function tilbage() {
            numberOfPicsInKarrrusel--;
            navigate();
        }

        function navigate() {
            document.querySelector(".the_container").scrollTo({
                left: numberOfPicsInKarrrusel * document.querySelector(".karrusel_imgs").width,
                behavior: "smooth"
            })
        }

    </script>
</body>

</html>

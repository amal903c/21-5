<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velkommen til 21-5</title>
    <link rel="stylesheet" href="style.css">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="myIcons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="myIcons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="myIcons/favicon-16x16.png">
    <link rel="manifest" href="myIcons/site.webmanifest">
    <link rel="mask-icon" href="myIcons/safari-pinned-tab.svg" color="#35aaa8">
    <link rel="shortcut icon" href="myIcons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="myIcons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <template id="menutemplate">
        <article id="menu_punkter_content_nav">
            <h3 id="title"></h3>
            <img src="">
        </article>
    </template>
    <!--MIDLERTIDIG HEADER-->
    <nav id="navigation">

        <div class="mobil_nav_container">
            <a class="logo_mobil logoimg" href="index.html"><img class="logoimg" src="img/logo.svg"></a>
            <div class="menuknap">☰</div>
            <div class="lukkeknap hidden">X</div>
        </div>

        <div id="menu_linje" class="hidden">
            <ul id="menu_punkter" class="menupunkter_container">
                <a class="atag" href="index.html"><img class="logoimg logoweb" src="img/logo.svg"></a>
                <li id="destinationer">Destinationer</li>
                <div class="dropdown_container hidden">

                </div>
                <li id="boliger">Boliger</li>
                <div class="dropdown_container_boliger hidden">

                </div>
                <li id="om_215">Om 21-5</li>
                <div class="dropdown_container_om215 hidden">

                </div>
                <li id="økonomi_jura_skat">Økonomi, Jura og Skat</li>
                <div class="dropdown_container_okonomi hidden">

                </div>
                <li id="kob_af_andel">Køb af andel i 21-5</li>
                <div class="dropdown_container_kobafandel hidden">

                </div>

                <li id="praktisk_info">Praktisk info</li>
                <div class="dropdown_container_praktiskinfo hidden">

                </div>
                <div class="ombyt">
                    <input type="text" placeholder="Søg...">
                    <button>Log in <img class="user" src="grafik/user.svg"> </button>
                </div>
                <div id="alle_flag_container">
                    <img class="land_img" src="img/danmark.svg">
                    <div class="flag_container">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                    </div>
                </div>
            </ul>
        </div>


    </nav>



    <!--   TEMPLATE TIL BILLEDKARRUSEL-->
    <template id="template_karusel">
        <section>
            <img class="karrusel_imgs" src="" alt="">
        </section>
    </template>



    <main id="forside">

        <!--       SPLASH FORSIDE-->
        <div class="splash splashbillede">
            <div class="overlay_splash">
                <div class="centerboks">
                    <h1 class="title_splash">TÆNK HVIS DU EJEDE FEM UNIKKE FERIEBOLIGERE</h1>
                    <h2 class="title_splash">GØR DINE DRØMME TIL VIRKELIGHED MED 21-5</h2>
                    <h2 class="cta_splash title_splash">BLIV EN DEL AF 21-5 NU</h2>
                </div>
            </div>



        </div>


        <!--       KARRUSEL SEKTIOIN START-->
        <div class="karrusel">
            <div class="karrusel_tekst">
                <h1 class="karrusel_h1"></h1>
                <p class="karrusel_brod"></p>
            </div>
            <div class="karrusel_inner">
                <div class="tilbage">
                    <p>⭅</p>
                </div>
                <div class="the_container"></div>
                <div class="foran">
                    <p>⭆</p>
                </div>
            </div>

        </div>

        <!--KARRUSEL SEKTIOIN SLUT-->

        <!--        VIDEO SEKTION START-->
        <div class="video_container">

            <iframe class="iframe_video" src="" frameborder="0" allow="autoplay; fullscreen" allowfullscreen alt="youtube google video toscana"></iframe>
            <div class="video_h1">
                <h1 class="videoh1"></h1>
            </div>
        </div>

        <div class="video_brod">
            <p class="videobrod"></p>
        </div>

        <!--    VIDEO SEKTION SLUT-->

        <!--        SEKTION2-->

        <div class="sektion_2">
            <div class="sektion_2_tekst">
                <h1 class="sektion_2_h1"></h1>
                <p class="sektion_2_brod"></p>
            </div>
            <div class="sektion_2_billede">
                <img class="sektion_2_billedet" src="" alt=""> <a href="moed-os.html">
                    <h2 class="hover_h2 familiensoplevelser_link">BLIV EN DEL AF VORES UNIKKE KONCEPT</h2>
                </a>

            </div>

            <!--        SEKTION2 SLUT-->

            <!--        MØD BENTE OG JESPER START-->


            <div class="bente_containere">
                <!--     <div class="hvid"></div>-->
                <div class="bente_billede"> <img class="bente_billedess" src="" alt="bente og jesper">
                    <div class="loes_mere">
                        <a href="familiernes_oplevelser.html">
                            <h2 class="hover_h2 ">HVAD SIGER VORES ANDRE FAMILIER?</h2>
                        </a>
                    </div>
                </div>
                <div class="bente_tekst">
                    <h1 class="bente_h1"></h1>
                    <p class="bente_brod"></p>
                </div>
            </div>

            <!--MØD BENTE OG JESPER SLUT-->

            <!--/*footer start*/-->
            <section class="footer_wrap">
                <div class="nyhedsbrev_container">
                    <ul>
                        <li>
                            <h3>Nyhedsbrev</h3>
                        </li>
                        <li>
                            <div id="nyhedsbrev_input"><input type="tekst" placeholder="e-mail"></div>
                        </li>
                        <li><button class="nyhedsbrev_knap">Tilmeld</button></li>
                    </ul>
                </div>
                <div class="kontakt_container">
                    <ul>
                        <li>
                            <h3>Kontakt os</h3>
                        </li>
                        <li>21-5 A/S</li>
                        <li>Rungstedvej 41</li>
                        <li>2970 Hørsholm</li>
                        <br>
                        <li>Telefon: 70 26 11 55</li>
                        <li>E-mail: info@21-5.dk</li>
                        <li>Åbent mellem 9-17</li>
                    </ul>
                </div>
                <div class="andet_container">
                    <ul>
                        <li>
                            <h3>Andet</h3>
                        </li>
                        <li><a href="">Nyheder</a></li>
                        <li><a href="">Presse</a></li>
                        <li><a href="">Cookie- og privatlivspolitik</a></li>
                        <li><a href="FAQ.html">Ofte stillede spørgsmål</a></li>
                    </ul>
                </div>
                <div class="some">
                    <ul>
                        <li>
                            <h3>Følg med</h3>
                        </li>
                        <li><a href="https://www.facebook.com/enogtyvefem/">Facebook</a></li>
                        <li><a href="https://www.instagram.com/215moments/">Instagram</a></li>
                    </ul>
                </div>
            </section>


            <!--    </main>-->

            <script src="script.js"></script>
            <script>
                //use strict gør, at den ikke finder sig i at fx en variabel ikek er defineret ordentliigt. Den finder sig ikke i fejl.
                "use strict";
                // I URL INDSÆTTER DU LINK TIL DET ID I JSON, SOM HAR ARRAYET MED BILLEDER
                const url = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/forside/166";
                let theJSON;
                //Variabel for, at finde ud af hvor mange billeder der er.
                let numberOfPicsInKarrrusel;
                let karruselCurrentNumber = 0;

                document.addEventListener("DOMContentLoaded", start);


                function start() {
                    hentJSON();
                    document.querySelector(".foran").addEventListener("click", foran);
                    document.querySelector(".tilbage").addEventListener("click", tilbage);
                }



                async function hentJSON() {
                    const response = await fetch(url);
                    theJSON = await response.json();
                    buildKarrusel();
                    setBtns()
                }


                function buildKarrusel() {
                    //Antallet af bilelder finder vi, fordi det svarer til det antal elementer i arrayet som indeholder billederne.
                    numberOfPicsInKarrrusel = theJSON.billedgalleri.length;

                    //For each ud fra vorers array af husbilelderne:
                    theJSON.billedgalleri.forEach((billede, index) => {
                        //vi skal have for både det store billede - theclone, og så de små legend billeder - secondclone:
                        const theClone = document.querySelector("#template_karusel").cloneNode(true).content;
                        //billederne sættes ind
                        theClone.querySelector("img").src = billede.guid;
                        //vi skal appende vores kloner til dokumentet:
                        document.querySelector(".the_container").appendChild(theClone);
                    })
                    document.querySelector(".the_container").addEventListener("scroll", scrollFunction);

                    //SPLASH
                    //document.querySelector(".splashbillede").src = theJSON.splash.guid;

                    //TEKST SOM FLEXER MED KARRUSEL
                    document.querySelector(".karrusel_h1").textContent = theJSON.overskrift1;
                    document.querySelector(".karrusel_brod").textContent = theJSON.tekst1;

                    //Sektion 2
                    document.querySelector(".sektion_2_h1").textContent = theJSON.overskrift2;
                    document.querySelector(".sektion_2_brod").textContent = theJSON.tekst2;
                    document.querySelector(".sektion_2_billedet").src = theJSON.billede2.guid;





                    //Video  sektion
                    document.querySelector(".iframe_video").src = theJSON.video;
                    document.querySelector(".videoh1").textContent = theJSON.video_overskrift;
                    document.querySelector(".videobrod").textContent = theJSON.video_brdtekst;

                    //Bente og Jesper
                    document.querySelector(".bente_billedess").src = theJSON.billede7.guid;
                    document.querySelector(".bente_h1").textContent = theJSON.overskrift3;
                    document.querySelector(".bente_brod").textContent = theJSON.tekst3;
                }

                function scrollFunction() {
                    karruselCurrentNumber = Math.round(document.querySelector(".the_container").scrollLeft / document.querySelector(".karrusel_imgs").width);
                    console.log(karruselCurrentNumber);
                    setBtns();
                }

                function foran() {
                    if (karruselCurrentNumber < numberOfPicsInKarrrusel - 1) {

                        karruselCurrentNumber++;
                        navigate();
                    }
                }

                function tilbage() {
                    if (karruselCurrentNumber > 0) {
                        karruselCurrentNumber--;
                        navigate();
                    }
                }

                function navigate() {
                    document.querySelector(".the_container").scrollTo({
                        left: karruselCurrentNumber * document.querySelector(".karrusel_imgs").width,
                        behavior: "smooth"
                    })
                    setBtns();
                }

                function setBtns() {
                    if (karruselCurrentNumber < numberOfPicsInKarrrusel - 1) {
                        document.querySelector(".foran").style.opacity = 1;
                        document.querySelector(".foran").style.cursor = "pointer";
                    } else {
                        document.querySelector(".foran").style.opacity = 0.2;
                        document.querySelector(".foran").style.cursor = "default";

                    }
                    if (karruselCurrentNumber > 0) {
                        document.querySelector(".tilbage").style.opacity = 1;
                        document.querySelector(".tilbage").style.cursor = "pointer";
                    } else {
                        document.querySelector(".tilbage").style.opacity = 0.2;
                        document.querySelector(".tilbage").style.cursor = "default";

                    }
                }

            </script>
</body>

</html>

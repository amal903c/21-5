<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job</title>
    <link rel="stylesheet" href="style.css">

    <style>
        #jobside {
            display: grid;
            grid-template-rows: auto auto;
        }

        @media only screen and (min-width: 768px) {
            #jobside {
                display: grid;
                grid-template-columns: 60vw 40vw;
            }

            #job_image_container {
                position: sticky;
                top: 0;
                right: 0;
                height: 100vh;
                width: 40vw;
            }
        }

        .job_template_text h1,
        job_template_text h2 {
            margin-bottom: 0;
        }



        /* billederne */
        .afsnit_job_image_container {
            height: 100vh;
        }

        .afsnit_job_image_container img {
            height: 100vh;
            object-fit: cover;
        }

        .afsnit_job_image_container:nth-child(2) {
            display: none;
        }

        .afsnit_job_image_container:nth-child(3) {
            display: none;
        }

        /* teksten */

        #job_text_container {
            padding: 5vw;
            background-image: url()
        }


        .afsnit_job_text_container {
            margin-bottom: 40px;
            margin-top: 40px;
        }



        /* clases */

        .hide {
            display: none;
        }

    </style>
</head>

<body>
    <template id="menutemplate">
        <article id="menu_punkter_content_nav">
            <h3 id="title"></h3>
            <img src="">
        </article>
    </template>
    <!--MIDLERTIDIG HEADER-->
    <nav id="navigation">

        <div class="mobil_nav_container">
            <a class="logo_mobil logoimg" href="index.html"><img class="logoimg" src="img/logo.svg"></a>
            <div class="menuknap">☰</div>
            <div class="lukkeknap hidden">X</div>
        </div>

        <div id="menu_linje" class="hidden">
            <ul id="menu_punkter" class="menupunkter_container">
                <a class="atag" href="index.html"><img class="logoimg logoweb" src="img/logo.svg"></a>
                <li id="destinationer">Destinationer</li>
                <div class="dropdown_container hidden">

                </div>
                <li id="boliger">Boliger</li>
                <div class="dropdown_container_boliger hidden">

                </div>
                <li id="om_215">Om 21-5</li>
                <div class="dropdown_container_om215 hidden">

                </div>
                <li id="økonomi_jura_skat">Økonomi, Jura og Skat</li>
                <div class="dropdown_container_okonomi hidden">

                </div>
                <li id="kob_af_andel">Køb af andel i 21-5</li>
                <div class="dropdown_container_kobafandel hidden">

                </div>

                <li id="praktisk_info">Praktisk info</li>
                <div class="dropdown_container_praktiskinfo hidden">

                </div>
                <div class="ombyt">
                    <input type="text" placeholder="Søg...">
                    <button>Log in <img class="user" src="grafik/user.svg"> </button>
                </div>
                <div id="alle_flag_container">
                    <img class="land_img" src="img/danmark.svg">
                    <div class="flag_container">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                        <img class="land_img" src="img/danmark.svg">
                    </div>
                </div>
            </ul>
        </div>


    </nav>


    <template class="job_template_image">
        <article class="afsnit_job_image_container">
            <img src="" alt="">
        </article>
    </template>

    <template class="job_template_text">
        <article class="afsnit_job_text_container">
            <h1 id="overskrift" class="hide"></h1>

            <h2 class="rubrik hide"></h2>

            <p class="tekst hide"></p>
        </article>
    </template>



    <div id="job_the_container">
        <section id="jobside">

            <div id="job_text_container">

            </div>

            <div id="job_image_container">

            </div>

        </section>
    </div>

    <!--/*footer start*/-->
    <section class="footer_wrap">
        <div class="nyhedsbrev_container">
            <ul>
                <li>
                    <h3>Nyhedsbrev</h3>
                </li>
                <li>
                    <div id="nyhedsbrev_input"><input type="tekst" placeholder="e-mail"></div>
                </li>
                <li><button class="nyhedsbrev_knap">Tilmeld</button></li>
            </ul>
        </div>
        <div class="kontakt_container">
            <ul>
                <li>
                    <h3>Kontakt os</h3>
                </li>
                <li>21-5 A/S</li>
                <li>Rungstedvej 41</li>
                <li>2970 Hørsholm</li>
                <br>
                <li>Telefon: 70 26 11 55</li>
                <li>E-mail: info@21-5.dk</li>
                <li>Åbent mellem 9-17</li>
            </ul>
        </div>
        <div class="andet_container">
            <ul>
                <li>
                    <h3>Andet</h3>
                </li>
                <li><a href="">Nyheder</a></li>
                <li><a href="">Presse</a></li>
                <li><a href="">Cookie- og privatlivspolitik</a></li>
                <li><a href="FAQ.html">Ofte stillede spørgsmål</a></li>
            </ul>
        </div>
        <div class="some">
            <ul>
                <li>
                    <h3>Følg med</h3>
                </li>
                <li><a href="https://www.facebook.com/enogtyvefem/">Facebook</a></li>
                <li><a href="https://www.instagram.com/215moments/">Instagram</a></li>
            </ul>
        </div>
    </section>


    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let id = urlParams.get("id");
        //        let afsnitter = [];

        let theJob;

        const job_TextTemplate = document.querySelector(".job_template_text");

        const job_textContainer = document.querySelector("#job_text_container")
        const job_imageContainer = document.querySelector("#job_image_container")

        const job_ImageTemplate = document.querySelector(".job_template_image");

        const endpoint = "http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/pinfo/648";






        document.addEventListener("DOMContentLoaded", start);


        function start() {
            loadData();
        }

        async function loadData() {

            let jsonData = await fetch(`http://michelleyoung.dk/kea/09_cms/21-5_wp/wordpress/wp-json/wp/v2/praktisk_info/${id}`);
            console.log(jsonData)

            //            const resspons = await fetch(endpoint)

            theJob = await jsonData.json();

            visJobside();
        }


        function visJobside() {
            //            container.innerHTML = "";
            console.log(theJob)


            // mainoverskrift
            if (theJob.main_overskrift) {

                console.log(theJob.main_overskrift)



                const klonText = job_TextTemplate.cloneNode(true).content;

                klonText.querySelector("h1").classList.remove("hide");
                klonText.querySelector("h1").textContent = theJob.main_overskrift;
                //

                job_textContainer.appendChild(klonText);

            }

            // overskrift 1
            if (theJob.overskrift_1) {

                console.log(theJob.overskrift_1)

                const klonText = job_TextTemplate.cloneNode(true).content;

                klonText.querySelector("h2").classList.remove("hide");
                klonText.querySelector("h2").textContent = theJob.overskrift_1;



                job_textContainer.appendChild(klonText);

            }

            // tekst 1
            if (theJob.tekst_1) {

                console.log(theJob.tekst_1_1)

                const klonText = job_TextTemplate.cloneNode(true).content;

                klonText.querySelector("p").classList.remove("hide");
                klonText.querySelector("p").textContent = theJob.tekst_1;
                job_textContainer.appendChild(klonText);

            }

            // overskrift 2
            if (theJob.overskrift_2) {
                console.log(theJob.overskrift_2)

                const klonText = job_TextTemplate.cloneNode(true).content;

                klonText.querySelector("h2").classList.remove("hide");
                klonText.querySelector("h2").textContent = theJob.overskrift_2;

                job_textContainer.appendChild(klonText);

            }

            // tekst 2
            if (theJob.tekst_2) {
                console.log(theJob.overskrift_2)

                const klonText = job_TextTemplate.cloneNode(true).content;

                klonText.querySelector("p").classList.remove("hide");
                klonText.querySelector("p").textContent = theJob.tekst_2;
                job_textContainer.appendChild(klonText);

            }

            // overskrift 3
            if (theJob.overskrift_3) {
                console.log(theJob.overskrift_3)

                const klonText = job_TextTemplate.cloneNode(true).content;
                klonText.querySelector("h2").classList.remove("hide");
                klonText.querySelector("h2").textContent = theJob.overskrift_3;


                job_textContainer.appendChild(klonText);

            }

            // tekst 3
            if (theJob.tekst_3) {
                console.log(theJob.overskrift_3)

                const klonText = job_TextTemplate.cloneNode(true).content;
                klonText.querySelector("p").classList.remove("hide");
                klonText.querySelector("p").textContent = theJob.tekst_3;
                job_textContainer.appendChild(klonText);

            }

            // overskrift 4
            if (theJob.overskrift_4) {
                console.log(theJob.overskrift_4)

                const klonText = job_TextTemplate.cloneNode(true).content;
                klonText.querySelector("h2").classList.remove("hide");
                klonText.querySelector("h2").textContent = theJob.overskrift_4;


                job_textContainer.appendChild(klonText);

            }

            // tekst 4
            if (theJob.tekst_4) {
                console.log(theJob.overskrift_4)

                const klonText = job_TextTemplate.cloneNode(true).content;
                klonText.querySelector("p").classList.remove("hide");
                klonText.querySelector("p").textContent = theJob.tekst_4;
                job_textContainer.appendChild(klonText);

            }


            //Hver billede (image foreach)

            //For each ud fra vorers array af husbilelderne:
            theJob.galleri.forEach((billede, index) => {
                //vi skal have for både det store billede - theclone, og så de små legend billeder - secondclone:
                const klonImage = job_ImageTemplate.cloneNode(true).content;
                //billederne sættes ind
                klonImage.querySelector("img").src = billede.guid;
                //vi skal appende vores kloner til dokumentet:
                job_imageContainer.appendChild(klonImage);
            })
        }

    </script>


    <script src="script.js"></script>
</body>

</html>
